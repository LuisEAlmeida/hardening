"use strict";(self.webpackChunkhardening=self.webpackChunkhardening||[]).push([[4382],{9905:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"documentacion/ejemplos/6.2.1.4","title":"6.2.1.4 Asegurarse de que solo se use un sistema de registro (Automatizado)","description":"Aplicabilidad del Perfil","source":"@site/docs/documentacion/ejemplos/6.2.1.4.md","sourceDirName":"documentacion/ejemplos","slug":"/documentacion/ejemplos/6.2.1.4","permalink":"/hardening/docs/documentacion/ejemplos/6.2.1.4","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/documentacion/ejemplos/6.2.1.4.md","tags":[],"version":"current","frontMatter":{},"sidebar":"documentacionSidebar","previous":{"title":"6.2.2.1.3","permalink":"/hardening/docs/documentacion/ejemplos/6.2.2/6.2.2.1.2 copy"}}');var r=s(4848),o=s(8453);const a={},t="6.2.1.4 Asegurarse de que solo se use un sistema de registro (Automatizado)",d={},l=[{value:"Aplicabilidad del Perfil",id:"aplicabilidad-del-perfil",level:2},{value:"Descripci\xf3n",id:"descripci\xf3n",level:2},{value:"Razonamiento",id:"razonamiento",level:2},{value:"Impacto",id:"impacto",level:2},{value:"Remediaci\xf3n:",id:"remediaci\xf3n",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"6214-asegurarse-de-que-solo-se-use-un-sistema-de-registro-automatizado",children:"6.2.1.4 Asegurarse de que solo se use un sistema de registro (Automatizado)"})}),"\n",(0,r.jsx)(n.h2,{id:"aplicabilidad-del-perfil",children:"Aplicabilidad del Perfil"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Nivel 1 - Servidor"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Nivel 1 - Estaci\xf3n de Trabajo"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,r.jsxs)(n.p,{children:["Las mejores pr\xe1cticas recomiendan utilizar un \xfanico sistema centralizado de registros para la gesti\xf3n de logs. Se debe elegir un \xfanico servicio, ya sea ",(0,r.jsx)(n.code,{children:"rsyslog"})," o ",(0,r.jsx)(n.code,{children:"journald"}),", para que act\xfae como el sistema centralizado de registro."]}),"\n",(0,r.jsx)(n.h2,{id:"razonamiento",children:"Razonamiento"}),"\n",(0,r.jsxs)(n.p,{children:["Configurar un \xfanico servicio de registro (ya sea ",(0,r.jsx)(n.code,{children:"rsyslog"})," o ",(0,r.jsx)(n.code,{children:"journald"}),") evita la redundancia, optimiza los recursos, simplifica la configuraci\xf3n y la gesti\xf3n, y garantiza la consistencia."]}),"\n",(0,r.jsx)(n.h2,{id:"impacto",children:"Impacto"}),"\n",(0,r.jsx)(n.p,{children:"La transici\xf3n de un servicio de registro a otro puede ser compleja y llevar mucho tiempo, ya que implica una reconfiguraci\xf3n y podr\xeda resultar en la p\xe9rdida de datos si no se gestiona y reconfigura correctamente."}),"\n",(0,r.jsx)(n.h1,{id:"auditor\xeda",children:"Auditor\xeda"}),"\n",(0,r.jsx)(n.p,{children:"Ejecute el siguiente script para asegurarse de que solo se est\xe9 utilizando un sistema de registro:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'#!/usr/bin/env bash\r\n\r\n{\r\n    l_output="" l_output2="" # Verifica el estado de rsyslog y journald\r\n    if systemctl is-active --quiet rsyslog; then\r\n        l_output="$l_output\\n - rsyslog est\xe1 en uso\\n- siga las recomendaciones en la subsecci\xf3n Configurar rsyslog \xfanicamente"\r\n    elif systemctl is-active --quiet systemd-journald; then\r\n        l_output="$l_output\\n - journald est\xe1 en uso\\n- siga las recomendaciones en la subsecci\xf3n Configurar journald \xfanicamente"\r\n    else\r\n        echo -e "No se pudo determinar el sistema de registro"\r\n        l_output2="$l_output2\\n - No se pudo determinar el sistema de registro\\n- Configure solo UN sistema de registro: rsyslog O journald"\r\n    fi\r\n\r\n    if [ -z "$l_output2" ]; then # Proporciona los resultados de la auditor\xeda\r\n        echo -e "\\n- Resultado de Auditor\xeda:\\n ** APROBADO **\\n$l_output\\n"\r\n    else\r\n        echo -e "\\n- Resultado de Auditor\xeda:\\n ** FALL\xd3 **\\n - Raz\xf3n(es) del fallo en la auditor\xeda:\\n$l_output2"\r\n    fi\r\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"remediaci\xf3n",children:"Remediaci\xf3n:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Determine si se debe usar ",(0,r.jsx)(n.code,{children:"journald"})," ",(0,r.jsx)(n.strong,{children:"- OR -"})," ",(0,r.jsx)(n.code,{children:"rsyslog"})," seg\xfan las necesidades del sitio."]}),"\n",(0,r.jsxs)(n.li,{children:["Configure ",(0,r.jsx)(n.code,{children:"systemd-journald.service"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Configure solo ",(0,r.jsx)(n.strong,{children:"UNO"})," de los dos: ",(0,r.jsx)(n.code,{children:"journald"})," ",(0,r.jsx)(n.strong,{children:"- OR -"})," ",(0,r.jsx)(n.code,{children:"rsyslog"})," y complete las recomendaciones en esa subsecci\xf3n."]}),"\n",(0,r.jsx)(n.li,{children:"Regrese a esta recomendaci\xf3n para asegurarse de que solo un sistema de registro est\xe9 en uso."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>t});var i=s(6540);const r={},o=i.createContext(r);function a(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);